<div class="pt-28 py-20">
  <div class="max-w-2xl mx-auto px-6 py-10 bg-white rounded-xl shadow-lg">
    <h2 class="text-2xl font-semibold mb-6 text-gray-900">Edit Team Member</h2>

    <form action="/team/{{team.id}}?_method=PUT" method="POST" enctype="multipart/form-data" class="space-y-6">

      <!-- Preview foto -->
      <div 
        x-data="{ 
          previewUrl: null,
          oldPhoto: '{{#if team.profile}}/uploads/team/{{team.profile}}{{else}}/images/default-avatar.png{{/if}}'
        }" 
        class="space-y-3"
      >
        <label for="profile" class="block text-sm font-semibold text-gray-700 mb-1">
          Photos Profile
        </label>

        <!-- Input file -->
        <input 
          type="file" 
          id="profile" 
          name="profile" 
          accept="image/*"
          x-ref="fileInput"
          class="w-full border border-gray-300 rounded-lg px-4 py-2 focus:outline-none focus:ring-2 focus:ring-gray-900 text-gray-700"
          @change="previewUrl = $event.target.files[0] ? URL.createObjectURL($event.target.files[0]) : null"
        >

        <!-- Tampilkan foto lama atau preview baru -->
        <div class="relative w-32 h-32">
          <img 
            :src="previewUrl ? previewUrl : oldPhoto" 
            alt="Preview Photo" 
            class="w-32 h-32 object-cover rounded-lg border border-gray-300"
          >

          <!-- Tombol hapus foto baru -->
          <template x-if="previewUrl">
            <button 
              type="button" 
              class="absolute -top-2 -right-2 bg-red-500 text-white w-6 h-6 rounded-full flex items-center justify-center shadow hover:bg-red-600"
              @click="previewUrl = null; $refs.fileInput.value = null;">
              &times;
            </button>
          </template>
        </div>
      </div>

      <!-- Nama -->
      <div>
        <label for="nama" class="block text-sm font-semibold text-gray-700 mb-1">Name</label>
        <input 
          type="text" 
          id="nama" 
          name="nama" 
          value="{{team.nama}}" 
          class="w-full border border-gray-300 bg-white text-gray-900 rounded-lg px-4 py-2 focus:outline-none focus:ring-2 focus:ring-gray-900"
        >
      </div>

      <!-- Posisi -->
      <div>
        <label for="posisi" class="block text-sm font-semibold text-gray-700 mb-1">Position</label>
        <input 
          type="text" 
          id="posisi" 
          name="posisi" 
          value="{{team.posisi}}" 
          class="w-full border border-gray-300 bg-white text-gray-900 rounded-lg px-4 py-2 focus:outline-none focus:ring-2 focus:ring-gray-900"
        >
      </div>

      <!-- LinkedIn -->
      <div>
        <label for="linkedin" class="block text-sm font-semibold text-gray-700 mb-1">LinkedIn</label>
        <input 
          type="text" 
          id="linkedin" 
          name="linkedin" 
          value="{{team.linkedin}}" 
          class="w-full border border-gray-300 bg-white text-gray-900 rounded-lg px-4 py-2 focus:outline-none focus:ring-2 focus:ring-gray-900"
        >
      </div>

      <!-- Tombol -->
      <div class="flex space-x-4">
        <button type="submit"
          class="bg-gray-900 text-white px-6 py-2 rounded-lg shadow hover:bg-gray-600 transition focus:outline-none focus:ring-2 focus:ring-gray-900">
          Update
        </button>
        <a href="/team"
          class="bg-white border border-gray-300 text-gray-900 px-6 py-2 rounded-lg shadow hover:bg-gray-100 transition focus:outline-none focus:ring-2 focus:ring-gray-900">
          Cancel
        </a>
      </div>
    </form>
  </div>
</div>
