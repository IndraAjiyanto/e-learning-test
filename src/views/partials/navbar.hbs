<div
  class='w-full shadow-lg fixed top-0 left-0 right-0 z-50 bg-gray-900 text-white dark-mode:text-gray-200 dark-mode:bg-gray-800'
>
  <div
    x-data="{
      open: false,
      programOpen: false,
      userOpen: false,
      active: localStorage.getItem('activeLink') || '/dashboard',
      setActive(path) {
        this.active = path
        localStorage.setItem('activeLink', path)
        this.open = false
      }
    }"
    class='flex flex-col max-w-screen-xl px-4 mx-auto md:items-center md:justify-between md:flex-row md:px-6 lg:px-8 h-16'
  >
    <!-- Logo & Toggle -->
    <div class='flex flex-row items-center justify-between h-16'>
      <img
        src='/public/image/logo_kotak_putih.png'
        alt='Logo'
        class='h-8 w-auto tracking-widest uppercase rounded-lg focus:outline-none focus:shadow-outline'
      />
      <button
        class='rounded-lg md:hidden focus:outline-none focus:shadow-outline p-2 hover:bg-gray-800 transition-colors'
        @click='open = !open'
      >
        <svg fill='currentColor' viewBox='0 0 20 20' class='w-6 h-6'>
          <path
            x-show='!open'
            fill-rule='evenodd'
            d='M3 5a1 1 0 011-1h12a1 1 0 110 2H4a1 1 0 01-1-1zM3 10a1 1 0 011-1h12a1 1 0 110 2H4a1 1 0 01-1-1zM9 15a1 1 0 011-1h6a1 1 0 110 2h-6a1 1 0 01-1-1z'
            clip-rule='evenodd'
          ></path>
          <path
            x-show='open'
            fill-rule='evenodd'
            d='M4.293 4.293a1 1 0 011.414 0L10 8.586l4.293-4.293a1 1 0 111.414 1.414L11.414 10l4.293 4.293a1 1 0 01-1.414 1.414L10 11.414l-4.293 4.293a1 1 0 01-1.414-1.414L8.586 10 4.293 5.707a1 1 0 010-1.414z'
            clip-rule='evenodd'
          ></path>
        </svg>
      </button>
    </div>

    <!-- Navbar -->
    <nav
      :class="{'flex': open, 'hidden': !open}"
      class='flex-col flex-grow md:pb-0 md:flex md:justify-end md:flex-row space-y-2 md:space-y-0 md:items-center'
      x-show='open || window.innerWidth >= 768'
      x-transition:enter='transition ease-out duration-200'
      x-transition:enter-start='opacity-0 -translate-y-2'
      x-transition:enter-end='opacity-100 translate-y-0'
    >
      {{#if (roles user.role 'user')}}
        <a
          href='/dashboard'
          @click="setActive('/dashboard')"
          :class="active === '/dashboard' 
            ? 'bg-white text-gray-900' 
            : 'bg-transparent text-white hover:bg-gray-700 md:hover:bg-gray-200 hover:text-white md:hover:text-gray-900'"
          class='block px-4 py-2.5 text-sm font-semibold rounded-lg transition-colors md:mt-0'
        >Home</a>

        <!-- Program Dropdown - Mobile & Desktop -->
        <div class='relative md:ml-4'>
          <button
            @click='programOpen = !programOpen'
            @click.away='programOpen = false'
            :class="[
        (active.includes('/dashboard/kategori/Bootcamp') || 
         active.includes('/dashboard/kategori/Course') || 
         active.includes('/dashboard/kategori/Short Class'))
        ? 'bg-white text-gray-900'
        : 'bg-transparent text-white hover:bg-gray-700 md:hover:bg-gray-200 hover:text-white md:hover:text-gray-900'
      ]"
            class='flex items-center justify-between w-full px-4 py-2.5 text-sm font-semibold text-left rounded-lg transition-colors md:w-auto'
          >
            <span>Program</span>
            <svg
              fill='currentColor'
              viewBox='0 0 20 20'
              :class="{'rotate-180': programOpen, 'rotate-0': !programOpen}"
              class='w-4 h-4 ml-1 transition-transform duration-200'
            >
              <path
                fill-rule='evenodd'
                d='M5.293 7.293a1 1 0 011.414 0L10 10.586l3.293-3.293a1 1 0 111.414 1.414l-4 4a1 1 0 01-1.414 0l-4-4a1 1 0 010-1.414z'
                clip-rule='evenodd'
              ></path>
            </svg>
          </button>

          <!-- Mobile Dropdown -->
          <div
            x-show='programOpen'
            x-transition:enter='transition ease-out duration-200'
            x-transition:enter-start='opacity-0 -translate-y-2'
            x-transition:enter-end='opacity-100 translate-y-0'
            class='md:hidden pl-4 mt-2 space-y-2'
          >
            <a
              href='/dashboard/kategori/Bootcamp'
              @click="setActive('/dashboard/kategori/Bootcamp')"
              class='flex items-center gap-3 p-3 rounded-lg bg-gray-800 hover:bg-gray-700 transition-colors'
            >
              <div class='bg-white text-gray-900 rounded-lg p-2 flex-shrink-0'>
                <svg
                  fill='none'
                  stroke='currentColor'
                  stroke-width='2'
                  viewBox='0 0 24 24'
                  class='w-5 h-5'
                >
                  <path
                    d='M5 3v4M3 5h4M6 17v4m-2-2h4m5-16l2.286 6.857L21 12l-5.714 2.143L13 21l-2.286-6.857L5 12l5.714-2.143L13 3z'
                  ></path>
                </svg>
              </div>
              <span class='font-semibold'>Bootcamp</span>
            </a>

            <a
              href='/dashboard/kategori/Course'
              @click="setActive('/dashboard/kategori/Course')"
              class='flex items-center gap-3 p-3 rounded-lg bg-gray-800 hover:bg-gray-700 transition-colors'
            >
              <div class='bg-white text-gray-900 rounded-lg p-2 flex-shrink-0'>
                <svg
                  fill='none'
                  stroke='currentColor'
                  stroke-width='2'
                  viewBox='0 0 24 24'
                  class='w-5 h-5'
                >
                  <path
                    d='M8 12h.01M12 12h.01M16 12h.01M21 12c0 4.418-4.03 8-9 8a9.863 9.863 0 01-4.255-.949L3 20l1.395-3.72C3.512 15.042 3 13.574 3 12c0-4.418 4.03-8 9-8s9 3.582 9 8z'
                  ></path>
                </svg>
              </div>
              <span class='font-semibold'>Course</span>
            </a>

            <a
              href='/dashboard/kategori/Short Class'
              @click="setActive('/dashboard/kategori/Short Class')"
              class='flex items-center gap-3 p-3 rounded-lg bg-gray-800 hover:bg-gray-700 transition-colors'
            >
              <div class='bg-white text-gray-900 rounded-lg p-2 flex-shrink-0'>
                <svg
                  fill='none'
                  stroke='currentColor'
                  stroke-width='2'
                  viewBox='0 0 24 24'
                  class='w-5 h-5'
                >
                  <path
                    d='M11 3.055A9.001 9.001 0 1020.945 13H11V3.055z'
                  ></path>
                  <path d='M20.488 9H15V3.512A9.025 9.025 0 0120.488 9z'></path>
                </svg>
              </div>
              <span class='font-semibold'>Short Class</span>
            </a>
          </div>

          <!-- Desktop Dropdown -->
          <div
            x-show='programOpen'
            @click.away='programOpen = false'
            x-transition:enter='transition ease-out duration-100'
            x-transition:enter-start='transform opacity-0 scale-95'
            x-transition:enter-end='transform opacity-100 scale-100'
            class='hidden md:block absolute right-0 w-full md:max-w-screen-sm md:w-screen mt-2 origin-top-right z-30'
          >
            <div class='px-2 pt-2 pb-4 bg-white rounded-md shadow-lg'>
              <div class='grid grid-cols-1 md:grid-cols-2 gap-4'>
                <!-- Bootcamp -->
                <a
                  href='/dashboard/kategori/Bootcamp'
                  @click="setActive('/dashboard/kategori/Bootcamp')"
                  class='flex items-start rounded-lg bg-transparent p-2 hover:bg-gray-200 transition-colors'
                >
                  <div class='bg-gray-900 text-white rounded-lg p-3'>
                    <svg
                      fill='none'
                      stroke='currentColor'
                      stroke-width='2'
                      viewBox='0 0 24 24'
                      class='w-6 h-6'
                    >
                      <path
                        d='M5 3v4M3 5h4M6 17v4m-2-2h4m5-16l2.286 6.857L21 12l-5.714 2.143L13 21l-2.286-6.857L5 12l5.714-2.143L13 3z'
                      ></path>
                    </svg>
                  </div>
                  <div class='ml-3'>
                    <p class='font-semibold text-gray-900'>Bootcamp</p>
                  </div>
                </a>

                <!-- Course -->
                <a
                  href='/dashboard/kategori/Course'
                  @click="setActive('/dashboard/kategori/Course')"
                  class='flex items-start rounded-lg bg-transparent p-2 hover:bg-gray-200 transition-colors'
                >
                  <div class='bg-gray-900 text-white rounded-lg p-3'>
                    <svg
                      fill='none'
                      stroke='currentColor'
                      stroke-width='2'
                      viewBox='0 0 24 24'
                      class='w-6 h-6'
                    >
                      <path
                        d='M8 12h.01M12 12h.01M16 12h.01M21 12c0 4.418-4.03 8-9 8a9.863 9.863 0 01-4.255-.949L3 20l1.395-3.72C3.512 15.042 3 13.574 3 12c0-4.418 4.03-8 9-8s9 3.582 9 8z'
                      ></path>
                    </svg>
                  </div>
                  <div class='ml-3'>
                    <p class='font-semibold text-gray-900'>Course</p>
                  </div>
                </a>

                <!-- Short Class -->
                <a
                  href='/dashboard/kategori/Short Class'
                  @click="setActive('/dashboard/kategori/Short Class')"
                  class='flex items-start rounded-lg bg-transparent p-2 hover:bg-gray-200 transition-colors'
                >
                  <div class='bg-gray-900 text-white rounded-lg p-3'>
                    <svg
                      fill='none'
                      stroke='currentColor'
                      stroke-width='2'
                      viewBox='0 0 24 24'
                      class='w-6 h-6'
                    >
                      <path
                        d='M11 3.055A9.001 9.001 0 1020.945 13H11V3.055z'
                      ></path>
                      <path
                        d='M20.488 9H15V3.512A9.025 9.025 0 0120.488 9z'
                      ></path>
                    </svg>
                  </div>
                  <div class='ml-3'>
                    <p class='font-semibold text-gray-900'>Short Class</p>
                  </div>
                </a>
              </div>
            </div>
          </div>
        </div>

        <a
          href='/dashboard/portofolio'
          @click="setActive('/portofolio')"
          :class="active === '/portofolio' 
            ? 'bg-white text-gray-900' 
            : 'bg-transparent text-white hover:bg-gray-700 md:hover:bg-gray-200 hover:text-white md:hover:text-gray-900'"
          class='block px-4 py-2.5 text-sm font-semibold rounded-lg transition-colors md:ml-4'
        >Portofolio</a>

        <a
          href='/dashboard/alumni'
          @click="setActive('/alumni')"
          :class="active === '/alumni' 
            ? 'bg-white text-gray-900' 
            : 'bg-transparent text-white hover:bg-gray-700 md:hover:bg-gray-200 hover:text-white md:hover:text-gray-900'"
          class='block px-4 py-2.5 text-sm font-semibold rounded-lg transition-colors md:ml-4'
        >Alumni</a>

        <a
          href='/dashboard/about'
          @click="setActive('/about')"
          :class="active === '/about' 
            ? 'bg-white text-gray-900' 
            : 'bg-transparent text-white hover:bg-gray-700 md:hover:bg-gray-200 hover:text-white md:hover:text-gray-900'"
          class='block px-4 py-2.5 text-sm font-semibold rounded-lg transition-colors md:ml-4'
        >About</a>

        <!-- User Dropdown -->
        <div class='relative'>
          <button
            @click='userOpen = !userOpen'
            class='flex items-center justify-between w-full px-4 py-2.5 text-sm font-semibold rounded-lg hover:bg-gray-700 md:hover:bg-gray-200 hover:text-white md:hover:text-gray-900 transition-colors md:w-auto md:ml-4'
          >
            <div class='flex items-center gap-3'>
              <span>{{user.username}}</span>
              <div
                class='w-7 h-7 rounded-full overflow-hidden border-2 border-gray-600 hover:border-gray-400 transition-colors'
              >
                <img
                  src='{{user.profile}}'
                  alt='User Avatar'
                  class='w-full h-full object-cover'
                />
              </div>
              <svg
                fill='currentColor'
                viewBox='0 0 20 20'
                :class="{'rotate-180': userOpen, 'rotate-0': !userOpen}"
                class='w-4 h-4 transition-transform'
              >
                <path
                  fill-rule='evenodd'
                  d='M5.293 7.293a1 1 0 011.414 0L10 10.586l3.293-3.293a1 1 0 111.414 1.414l-4 4a1 1 0 01-1.414 0l-4-4a1 1 0 010-1.414z'
                  clip-rule='evenodd'
                ></path>
              </svg>
            </div>
          </button>

          <!-- Mobile User Dropdown -->
          <div
            x-show='userOpen'
            @click.away='userOpen = false'
            class='md:hidden pl-4 mt-2 space-y-2'
            x-transition:enter='transition ease-out duration-200'
            x-transition:enter-start='opacity-0 -translate-y-2'
            x-transition:enter-end='opacity-100 translate-y-0'
          >
            <a
              href='/users/profile'
              class='flex items-center gap-2 px-4 py-2.5 text-sm font-semibold rounded-lg bg-gray-800 hover:bg-gray-700 transition-colors'
            >
              <svg
                class='w-4 h-4'
                fill='none'
                stroke='currentColor'
                viewBox='0 0 24 24'
              ><path
                  stroke-linecap='round'
                  stroke-linejoin='round'
                  stroke-width='2'
                  d='M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z'
                ></path></svg>
              <span>Profile</span>
            </a>
            <a
              href='/kelass/kelas_saya/{{user.id}}'
              class='flex items-center gap-2 px-4 py-2.5 text-sm font-semibold rounded-lg bg-gray-800 hover:bg-gray-700 transition-colors'
            >
              <svg
                class='w-4 h-4'
                fill='none'
                stroke='currentColor'
                viewBox='0 0 24 24'
              ><path
                  stroke-linecap='round'
                  stroke-linejoin='round'
                  stroke-width='2'
                  d='M12 6.253v13m0-13C10.832 5.477 9.246 5 7.5 5S4.168 5.477 3 6.253v13C4.168 18.477 5.754 18 7.5 18s3.332.477 4.5 1.253m0-13C13.168 5.477 14.754 5 16.5 5c1.747 0 3.332.477 4.5 1.253v13C19.832 18.477 18.247 18 16.5 18c-1.746 0-3.332.477-4.5 1.253'
                ></path></svg>
              <span>My Course</span>
            </a>
            <a
              href='/logbook'
              class='flex items-center gap-2 px-4 py-2.5 text-sm font-semibold rounded-lg bg-gray-800 hover:bg-gray-700 transition-colors'
            >
              <svg
                class='w-4 h-4'
                fill='none'
                stroke='currentColor'
                viewBox='0 0 24 24'
              ><path
                  stroke-linecap='round'
                  stroke-linejoin='round'
                  stroke-width='2'
                  d='M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z'
                ></path></svg>
              <span>Log book</span>
            </a>
            <a
              href='/portfolios/myportfolio/{{user.id}}'
              class='flex items-center gap-2 px-4 py-2.5 text-sm font-semibold rounded-lg bg-gray-800 hover:bg-gray-700 transition-colors'
            >
              <svg
                class='w-4 h-4'
                fill='none'
                stroke='currentColor'
                viewBox='0 0 24 24'
              ><path
                  stroke-linecap='round'
                  stroke-linejoin='round'
                  stroke-width='2'
                  d='M21 13.255A23.931 23.931 0 0112 15c-3.183 0-6.22-.62-9-1.745M16 6V4a2 2 0 00-2-2h-4a2 2 0 00-2 2v2m4 6h.01M5 20h14a2 2 0 002-2V8a2 2 0 00-2-2H5a2 2 0 00-2 2v10a2 2 0 002 2z'
                ></path></svg>
              <span>My Portfolio</span>
            </a>
            <a
              href='/pembayarans/riwayat/{{user.id}}'
              class='flex items-center gap-2 px-4 py-2.5 text-sm font-semibold rounded-lg bg-gray-800 hover:bg-gray-700 transition-colors'
            >
              <svg
                class='w-4 h-4'
                fill='none'
                stroke='currentColor'
                viewBox='0 0 24 24'
              ><path
                  stroke-linecap='round'
                  stroke-linejoin='round'
                  stroke-width='2'
                  d='M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z'
                ></path></svg>
              <span>History payment</span>
            </a>
            <a
              href='/logout'
              class='flex items-center gap-2 px-4 py-2.5 text-sm font-semibold text-red-400 rounded-lg bg-gray-800 hover:bg-red-900/20 transition-colors'
            >
              <svg
                class='w-4 h-4'
                fill='none'
                stroke='currentColor'
                viewBox='0 0 24 24'
              ><path
                  stroke-linecap='round'
                  stroke-linejoin='round'
                  stroke-width='2'
                  d='M17 16l4-4m0 0l-4-4m4 4H7m6 4v1a3 3 0 01-3 3H6a3 3 0 01-3-3V7a3 3 0 013-3h4a3 3 0 013 3v1'
                ></path></svg>
              <span>Log out</span>
            </a>
          </div>

          <!-- Desktop User Dropdown -->
          <div
            x-show='userOpen'
            @click.away='userOpen = false'
            class='hidden md:block absolute right-0 w-48 mt-2 rounded-md shadow-lg z-30'
            x-transition:enter='transition ease-out duration-100'
            x-transition:enter-start='transform opacity-0 scale-95'
            x-transition:enter-end='transform opacity-100 scale-100'
          >
            <div class='px-2 py-2 bg-white rounded-md shadow'>
              <a
                href='/users/profile'
                class='flex items-center gap-2 px-4 py-2 mt-2 text-sm font-semibold text-gray-900 hover:bg-gray-200 rounded-lg'
              >
                <svg
                  class='w-4 h-4'
                  fill='none'
                  stroke='currentColor'
                  viewBox='0 0 24 24'
                ><path
                    stroke-linecap='round'
                    stroke-linejoin='round'
                    stroke-width='2'
                    d='M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z'
                  ></path></svg>
                <span>Profile</span>
              </a>
              <a
                href='/kelass/kelas_saya/{{user.id}}'
                class='flex items-center gap-2 px-4 py-2 mt-2 text-sm font-semibold text-gray-900 hover:bg-gray-200 rounded-lg'
              >
                <svg
                  class='w-4 h-4'
                  fill='none'
                  stroke='currentColor'
                  viewBox='0 0 24 24'
                ><path
                    stroke-linecap='round'
                    stroke-linejoin='round'
                    stroke-width='2'
                    d='M12 6.253v13m0-13C10.832 5.477 9.246 5 7.5 5S4.168 5.477 3 6.253v13C4.168 18.477 5.754 18 7.5 18s3.332.477 4.5 1.253m0-13C13.168 5.477 14.754 5 16.5 5c1.747 0 3.332.477 4.5 1.253v13C19.832 18.477 18.247 18 16.5 18c-1.746 0-3.332.477-4.5 1.253'
                  ></path></svg>
                <span>My Course</span>
              </a>
              <a
                href='/logbook'
                class='flex items-center gap-2 px-4 py-2 mt-2 text-sm font-semibold text-gray-900 hover:bg-gray-200 rounded-lg'
              >
                <svg
                  class='w-4 h-4'
                  fill='none'
                  stroke='currentColor'
                  viewBox='0 0 24 24'
                ><path
                    stroke-linecap='round'
                    stroke-linejoin='round'
                    stroke-width='2'
                    d='M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z'
                  ></path></svg>
                <span>Log book</span>
              </a>
              <a
                href='/portfolios/myportfolio/{{user.id}}'
                class='flex items-center gap-2 px-4 py-2 mt-2 text-sm font-semibold text-gray-900 hover:bg-gray-200 rounded-lg'
              >
                <svg
                  class='w-4 h-4'
                  fill='none'
                  stroke='currentColor'
                  viewBox='0 0 24 24'
                ><path
                    stroke-linecap='round'
                    stroke-linejoin='round'
                    stroke-width='2'
                    d='M21 13.255A23.931 23.931 0 0112 15c-3.183 0-6.22-.62-9-1.745M16 6V4a2 2 0 00-2-2h-4a2 2 0 00-2 2v2m4 6h.01M5 20h14a2 2 0 002-2V8a2 2 0 00-2-2H5a2 2 0 00-2 2v10a2 2 0 002 2z'
                  ></path></svg>
                <span>My Portfolio</span>
              </a>
              <a
                href='/pembayarans/riwayat/{{user.id}}'
                class='flex items-center gap-2 px-4 py-2 mt-2 text-sm font-semibold text-gray-900 hover:bg-gray-200 rounded-lg'
              >
                <svg
                  class='w-4 h-4'
                  fill='none'
                  stroke='currentColor'
                  viewBox='0 0 24 24'
                ><path
                    stroke-linecap='round'
                    stroke-linejoin='round'
                    stroke-width='2'
                    d='M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z'
                  ></path></svg>
                <span>History payment</span>
              </a>
              <a
                href='/logout'
                class='flex items-center gap-2 px-4 py-2 mt-2 text-sm font-semibold text-red-400 hover:bg-gray-200 rounded-lg'
              >
                <svg
                  class='w-4 h-4'
                  fill='none'
                  stroke='currentColor'
                  viewBox='0 0 24 24'
                ><path
                    stroke-linecap='round'
                    stroke-linejoin='round'
                    stroke-width='2'
                    d='M17 16l4-4m0 0l-4-4m4 4H7m6 4v1a3 3 0 01-3 3H6a3 3 0 01-3-3V7a3 3 0 013-3h4a3 3 0 013 3v1'
                  ></path></svg>
                <span>Log out</span>
              </a>
            </div>
          </div>
        </div>

      {{else if (roles user.role 'admin')}}

        <a
          href='/kelass'
          @click="setActive('/kelass')"
          :class="active === '/kelass' 
            ? 'bg-white text-gray-900' 
            : 'bg-transparent text-white hover:bg-gray-700 md:hover:bg-gray-200 hover:text-white md:hover:text-gray-900'"
          class='block px-4 py-2.5 text-sm font-semibold rounded-lg transition-colors md:ml-4'
        >Class</a>

        <a
          href='/logbook'
          @click="setActive('/logbook')"
          :class="active === '/logbook' 
            ? 'bg-white text-gray-900' 
            : 'bg-transparent text-white hover:bg-gray-700 md:hover:bg-gray-200 hover:text-white md:hover:text-gray-900'"
          class='block px-4 py-2.5 text-sm font-semibold rounded-lg transition-colors md:ml-4'
        >Log Book</a>

        <a
          href='/portofolios'
          @click="setActive('/portofolios')"
          :class="active === '/portofolios' 
            ? 'bg-white text-gray-900' 
            : 'bg-transparent text-white hover:bg-gray-700 md:hover:bg-gray-200 hover:text-white md:hover:text-gray-900'"
          class='block px-4 py-2.5 text-sm font-semibold rounded-lg transition-colors md:ml-4'
        >Log Book</a>

        <div class='relative'>
          <button
            @click='userOpen = !userOpen'
            class='flex items-center justify-between w-full px-4 py-2.5 text-sm font-semibold rounded-lg hover:bg-gray-700 md:hover:bg-gray-200 hover:text-white md:hover:text-gray-900 transition-colors md:w-auto md:ml-4'
          >
            <div class='flex items-center gap-3'>
              <span>{{user.username}}</span>
              <div
                class='w-7 h-7 rounded-full overflow-hidden border-2 border-gray-600 hover:border-gray-400 transition-colors'
              >
                <img
                  src='{{user.profile}}'
                  alt='User Avatar'
                  class='w-full h-full object-cover'
                />
              </div>
              <svg
                fill='currentColor'
                viewBox='0 0 20 20'
                :class="{'rotate-180': userOpen, 'rotate-0': !userOpen}"
                class='w-4 h-4 transition-transform'
              >
                <path
                  fill-rule='evenodd'
                  d='M5.293 7.293a1 1 0 011.414 0L10 10.586l3.293-3.293a1 1 0 111.414 1.414l-4 4a1 1 0 01-1.414 0l-4-4a1 1 0 010-1.414z'
                  clip-rule='evenodd'
                ></path>
              </svg>
            </div>
          </button>

          <!-- Mobile User Dropdown -->
          <div
            x-show='userOpen'
            @click.away='userOpen = false'
            class='md:hidden pl-4 mt-2 space-y-2'
            x-transition:enter='transition ease-out duration-200'
            x-transition:enter-start='opacity-0 -translate-y-2'
            x-transition:enter-end='opacity-100 translate-y-0'
          >
            <a
              href='/users/profile'
              class='flex items-center gap-2 px-4 py-2.5 text-sm font-semibold rounded-lg bg-gray-800 hover:bg-gray-700 transition-colors'
            >
              <svg
                class='w-4 h-4'
                fill='none'
                stroke='currentColor'
                viewBox='0 0 24 24'
              ><path
                  stroke-linecap='round'
                  stroke-linejoin='round'
                  stroke-width='2'
                  d='M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z'
                ></path></svg>
              <span>Profile</span>
            </a>
            <a
              href='/logout'
              class='flex items-center gap-2 px-4 py-2.5 text-sm font-semibold text-red-400 rounded-lg bg-gray-800 hover:bg-red-900/20 transition-colors'
            >
              <svg
                class='w-4 h-4'
                fill='none'
                stroke='currentColor'
                viewBox='0 0 24 24'
              ><path
                  stroke-linecap='round'
                  stroke-linejoin='round'
                  stroke-width='2'
                  d='M17 16l4-4m0 0l-4-4m4 4H7m6 4v1a3 3 0 01-3 3H6a3 3 0 01-3-3V7a3 3 0 013-3h4a3 3 0 013 3v1'
                ></path></svg>
              <span>Log out</span>
            </a>
          </div>

          <!-- Desktop User Dropdown -->
          <div
            x-show='userOpen'
            @click.away='userOpen = false'
            class='hidden md:block absolute right-0 w-48 mt-2 rounded-md shadow-lg z-30'
            x-transition:enter='transition ease-out duration-100'
            x-transition:enter-start='transform opacity-0 scale-95'
            x-transition:enter-end='transform opacity-100 scale-100'
          >
            <div class='px-2 py-2 bg-white rounded-md shadow'>
              <a
                href='/users/profile'
                class='flex items-center gap-2 px-4 py-2 mt-2 text-sm font-semibold text-gray-900 hover:bg-gray-200 rounded-lg'
              >
                <svg
                  class='w-4 h-4'
                  fill='none'
                  stroke='currentColor'
                  viewBox='0 0 24 24'
                ><path
                    stroke-linecap='round'
                    stroke-linejoin='round'
                    stroke-width='2'
                    d='M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z'
                  ></path></svg>
                <span>Profile</span>
              </a>
              <a
                href='/logout'
                class='flex items-center gap-2 px-4 py-2 mt-2 text-sm font-semibold text-red-400 hover:bg-gray-200 rounded-lg'
              >
                <svg
                  class='w-4 h-4'
                  fill='none'
                  stroke='currentColor'
                  viewBox='0 0 24 24'
                ><path
                    stroke-linecap='round'
                    stroke-linejoin='round'
                    stroke-width='2'
                    d='M17 16l4-4m0 0l-4-4m4 4H7m6 4v1a3 3 0 01-3 3H6a3 3 0 01-3-3V7a3 3 0 013-3h4a3 3 0 013 3v1'
                  ></path></svg>
                <span>Log out</span>
              </a>
            </div>
          </div>
        </div>

      {{else if (roles user.role 'super_admin')}}

        <a
          href='/users'
          @click="setActive('/users')"
          :class="active === '/users' 
            ? 'bg-white text-gray-900' 
            : 'bg-transparent text-white hover:bg-gray-700 md:hover:bg-gray-200 hover:text-white md:hover:text-gray-900'"
          class='block px-4 py-2.5 text-sm font-semibold rounded-lg transition-colors md:ml-4'
        >Users</a>

        <a
          href='/kelass'
          @click="setActive('/kelass')"
          :class="active === '/kelass' 
            ? 'bg-white text-gray-900' 
            : 'bg-transparent text-white hover:bg-gray-700 md:hover:bg-gray-200 hover:text-white md:hover:text-gray-900'"
          class='block px-4 py-2.5 text-sm font-semibold rounded-lg transition-colors md:ml-4'
        >Class</a>

        <a
          href='/jenis-kelas'
          @click="setActive('/jenis-kelas')"
          :class="active === '/jenis-kelas' 
            ? 'bg-white text-gray-900' 
            : 'bg-transparent text-white hover:bg-gray-700 md:hover:bg-gray-200 hover:text-white md:hover:text-gray-900'"
          class='block px-4 py-2.5 text-sm font-semibold rounded-lg transition-colors md:ml-4'
        >Class Type</a>

        <a
          href='/pembayarans'
          @click="setActive('/pembayarans')"
          :class="active === '/pembayarans' 
            ? 'bg-white text-gray-900' 
            : 'bg-transparent text-white hover:bg-gray-700 md:hover:bg-gray-200 hover:text-white md:hover:text-gray-900'"
          class='block px-4 py-2.5 text-sm font-semibold rounded-lg transition-colors md:ml-4'
        >Payment</a>

        <a
          href='/pertanyaan-umum'
          @click="setActive('/pertanyaan-umum')"
          :class="active === '/pertanyaan-umum' 
            ? 'bg-white text-gray-900' 
            : 'bg-transparent text-white hover:bg-gray-700 md:hover:bg-gray-200 hover:text-white md:hover:text-gray-900'"
          class='block px-4 py-2.5 text-sm font-semibold rounded-lg transition-colors md:ml-4'
        >FAQ</a>

        <a
          href='/alumni'
          @click="setActive('/alumni')"
          :class="active === '/alumni' 
            ? 'bg-white text-gray-900' 
            : 'bg-transparent text-white hover:bg-gray-700 md:hover:bg-gray-200 hover:text-white md:hover:text-gray-900'"
          class='block px-4 py-2.5 text-sm font-semibold rounded-lg transition-colors md:ml-4'
        >Alumni</a>

        <a
          href='/logbook/all'
          @click="setActive('/logbook')"
          :class="active === '/logbook' 
            ? 'bg-white text-gray-900' 
            : 'bg-transparent text-white hover:bg-gray-700 md:hover:bg-gray-200 hover:text-white md:hover:text-gray-900'"
          class='block px-4 py-2.5 text-sm font-semibold rounded-lg transition-colors md:ml-4'
        >Log Book</a>

        <!-- User Dropdown -->
        <div class='relative'>
          <button
            @click='userOpen = !userOpen'
            class='flex items-center justify-between w-full px-4 py-2.5 text-sm font-semibold rounded-lg hover:bg-gray-700 md:hover:bg-gray-200 hover:text-white md:hover:text-gray-900 transition-colors md:w-auto md:ml-4'
          >
            <div class='flex items-center gap-3'>
              <span>{{user.username}}</span>
              <div
                class='w-7 h-7 rounded-full overflow-hidden border-2 border-gray-600 hover:border-gray-400 transition-colors'
              >
                <img
                  src='{{user.profile}}'
                  alt='User Avatar'
                  class='w-full h-full object-cover'
                />
              </div>
              <svg
                fill='currentColor'
                viewBox='0 0 20 20'
                :class="{'rotate-180': userOpen, 'rotate-0': !userOpen}"
                class='w-4 h-4 transition-transform'
              >
                <path
                  fill-rule='evenodd'
                  d='M5.293 7.293a1 1 0 011.414 0L10 10.586l3.293-3.293a1 1 0 111.414 1.414l-4 4a1 1 0 01-1.414 0l-4-4a1 1 0 010-1.414z'
                  clip-rule='evenodd'
                ></path>
              </svg>
            </div>
          </button>

          <!-- Mobile User Dropdown -->
          <div
            x-show='userOpen'
            @click.away='userOpen = false'
            class='md:hidden pl-4 mt-2 space-y-2'
            x-transition:enter='transition ease-out duration-200'
            x-transition:enter-start='opacity-0 -translate-y-2'
            x-transition:enter-end='opacity-100 translate-y-0'
          >
            <a
              href='/users/profile'
              class='flex items-center gap-2 px-4 py-2.5 text-sm font-semibold rounded-lg bg-gray-800 hover:bg-gray-700 transition-colors'
            >
              <svg
                class='w-4 h-4'
                fill='none'
                stroke='currentColor'
                viewBox='0 0 24 24'
              ><path
                  stroke-linecap='round'
                  stroke-linejoin='round'
                  stroke-width='2'
                  d='M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z'
                ></path></svg>
              <span>Profile</span>
            </a>
            <a
              href='/logout'
              class='flex items-center gap-2 px-4 py-2.5 text-sm font-semibold text-red-400 rounded-lg bg-gray-800 hover:bg-red-900/20 transition-colors'
            >
              <svg
                class='w-4 h-4'
                fill='none'
                stroke='currentColor'
                viewBox='0 0 24 24'
              ><path
                  stroke-linecap='round'
                  stroke-linejoin='round'
                  stroke-width='2'
                  d='M17 16l4-4m0 0l-4-4m4 4H7m6 4v1a3 3 0 01-3 3H6a3 3 0 01-3-3V7a3 3 0 013-3h4a3 3 0 013 3v1'
                ></path></svg>
              <span>Log out</span>
            </a>
          </div>

          <!-- Desktop User Dropdown -->
          <div
            x-show='userOpen'
            @click.away='userOpen = false'
            class='hidden md:block absolute right-0 w-48 mt-2 rounded-md shadow-lg z-30'
            x-transition:enter='transition ease-out duration-100'
            x-transition:enter-start='transform opacity-0 scale-95'
            x-transition:enter-end='transform opacity-100 scale-100'
          >
            <div class='px-2 py-2 bg-white rounded-md shadow'>
              <a
                href='/users/profile'
                class='flex items-center gap-2 px-4 py-2 mt-2 text-sm font-semibold text-gray-900 hover:bg-gray-200 rounded-lg'
              >
                <svg
                  class='w-4 h-4'
                  fill='none'
                  stroke='currentColor'
                  viewBox='0 0 24 24'
                ><path
                    stroke-linecap='round'
                    stroke-linejoin='round'
                    stroke-width='2'
                    d='M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z'
                  ></path></svg>
                <span>Profile</span>
              </a>
              <a
                href='/logout'
                class='flex items-center gap-2 px-4 py-2 mt-2 text-sm font-semibold text-red-400 hover:bg-gray-200 rounded-lg'
              >
                <svg
                  class='w-4 h-4'
                  fill='none'
                  stroke='currentColor'
                  viewBox='0 0 24 24'
                ><path
                    stroke-linecap='round'
                    stroke-linejoin='round'
                    stroke-width='2'
                    d='M17 16l4-4m0 0l-4-4m4 4H7m6 4v1a3 3 0 01-3 3H6a3 3 0 01-3-3V7a3 3 0 013-3h4a3 3 0 013 3v1'
                  ></path></svg>
                <span>Log out</span>
              </a>
            </div>
          </div>
        </div>

      {{else}}
        <!-- Guest Navigation -->
        <a
          href='/dashboard'
          @click="setActive('/dashboard')"
          :class="active === '/dashboard' 
            ? 'bg-white text-gray-900' 
            : 'bg-transparent text-white hover:bg-gray-700 md:hover:bg-gray-200 hover:text-white md:hover:text-gray-900'"
          class='block px-4 py-2.5 text-sm font-semibold rounded-lg transition-colors md:mt-0'
        >Home</a>

        <div class='relative md:ml-4'>
          <button
            @click='programOpen = !programOpen'
            @click.away='programOpen = false'
            :class="[
        (active.includes('/dashboard/kategori/Bootcamp') || 
         active.includes('/dashboard/kategori/Course') || 
         active.includes('/dashboard/kategori/Short Class'))
        ? 'bg-white text-gray-900'
        : 'bg-transparent text-white hover:bg-gray-700 md:hover:bg-gray-200 hover:text-white md:hover:text-gray-900'
      ]"
            class='flex items-center justify-between w-full px-4 py-2.5 text-sm font-semibold text-left rounded-lg transition-colors md:w-auto'
          >
            <span>Program</span>
            <svg
              fill='currentColor'
              viewBox='0 0 20 20'
              :class="{'rotate-180': programOpen, 'rotate-0': !programOpen}"
              class='w-4 h-4 ml-1 transition-transform duration-200'
            >
              <path
                fill-rule='evenodd'
                d='M5.293 7.293a1 1 0 011.414 0L10 10.586l3.293-3.293a1 1 0 111.414 1.414l-4 4a1 1 0 01-1.414 0l-4-4a1 1 0 010-1.414z'
                clip-rule='evenodd'
              ></path>
            </svg>
          </button>

          <!-- Mobile Dropdown -->
          <div
            x-show='programOpen'
            x-transition:enter='transition ease-out duration-200'
            x-transition:enter-start='opacity-0 -translate-y-2'
            x-transition:enter-end='opacity-100 translate-y-0'
            class='md:hidden pl-4 mt-2 space-y-2'
          >
            <a
              href='/dashboard/kategori/Bootcamp'
              @click="setActive('/dashboard/kategori/Bootcamp')"
              class='flex items-center gap-3 p-3 rounded-lg bg-gray-800 hover:bg-gray-700 transition-colors'
            >
              <div class='bg-white text-gray-900 rounded-lg p-2 flex-shrink-0'>
                <svg
                  fill='none'
                  stroke='currentColor'
                  stroke-width='2'
                  viewBox='0 0 24 24'
                  class='w-5 h-5'
                >
                  <path
                    d='M5 3v4M3 5h4M6 17v4m-2-2h4m5-16l2.286 6.857L21 12l-5.714 2.143L13 21l-2.286-6.857L5 12l5.714-2.143L13 3z'
                  ></path>
                </svg>
              </div>
              <span class='font-semibold'>Bootcamp</span>
            </a>

            <a
              href='/dashboard/kategori/Course'
              @click="setActive('/dashboard/kategori/Course')"
              class='flex items-center gap-3 p-3 rounded-lg bg-gray-800 hover:bg-gray-700 transition-colors'
            >
              <div class='bg-white text-gray-900 rounded-lg p-2 flex-shrink-0'>
                <svg
                  fill='none'
                  stroke='currentColor'
                  stroke-width='2'
                  viewBox='0 0 24 24'
                  class='w-5 h-5'
                >
                  <path
                    d='M8 12h.01M12 12h.01M16 12h.01M21 12c0 4.418-4.03 8-9 8a9.863 9.863 0 01-4.255-.949L3 20l1.395-3.72C3.512 15.042 3 13.574 3 12c0-4.418 4.03-8 9-8s9 3.582 9 8z'
                  ></path>
                </svg>
              </div>
              <span class='font-semibold'>Course</span>
            </a>

            <a
              href='/dashboard/kategori/Short Class'
              @click="setActive('/dashboard/kategori/Short Class')"
              class='flex items-center gap-3 p-3 rounded-lg bg-gray-800 hover:bg-gray-700 transition-colors'
            >
              <div class='bg-white text-gray-900 rounded-lg p-2 flex-shrink-0'>
                <svg
                  fill='none'
                  stroke='currentColor'
                  stroke-width='2'
                  viewBox='0 0 24 24'
                  class='w-5 h-5'
                >
                  <path
                    d='M11 3.055A9.001 9.001 0 1020.945 13H11V3.055z'
                  ></path>
                  <path d='M20.488 9H15V3.512A9.025 9.025 0 0120.488 9z'></path>
                </svg>
              </div>
              <span class='font-semibold'>Short Class</span>
            </a>
          </div>

          <!-- Desktop Dropdown -->
          <div
            x-show='programOpen'
            @click.away='programOpen = false'
            x-transition:enter='transition ease-out duration-100'
            x-transition:enter-start='transform opacity-0 scale-95'
            x-transition:enter-end='transform opacity-100 scale-100'
            class='hidden md:block absolute right-0 w-full md:max-w-screen-sm md:w-screen mt-2 origin-top-right z-30'
          >
            <div class='px-2 pt-2 pb-4 bg-white rounded-md shadow-lg'>
              <div class='grid grid-cols-1 md:grid-cols-2 gap-4'>
                <!-- Bootcamp -->
                <a
                  href='/dashboard/kategori/Bootcamp'
                  @click="setActive('/dashboard/kategori/Bootcamp')"
                  class='flex items-start rounded-lg bg-transparent p-2 hover:bg-gray-200 transition-colors'
                >
                  <div class='bg-gray-900 text-white rounded-lg p-3'>
                    <svg
                      fill='none'
                      stroke='currentColor'
                      stroke-width='2'
                      viewBox='0 0 24 24'
                      class='w-6 h-6'
                    >
                      <path
                        d='M5 3v4M3 5h4M6 17v4m-2-2h4m5-16l2.286 6.857L21 12l-5.714 2.143L13 21l-2.286-6.857L5 12l5.714-2.143L13 3z'
                      ></path>
                    </svg>
                  </div>
                  <div class='ml-3'>
                    <p class='font-semibold text-gray-900'>Bootcamp</p>
                  </div>
                </a>

                <!-- Course -->
                <a
                  href='/dashboard/kategori/Course'
                  @click="setActive('/dashboard/kategori/Course')"
                  class='flex items-start rounded-lg bg-transparent p-2 hover:bg-gray-200 transition-colors'
                >
                  <div class='bg-gray-900 text-white rounded-lg p-3'>
                    <svg
                      fill='none'
                      stroke='currentColor'
                      stroke-width='2'
                      viewBox='0 0 24 24'
                      class='w-6 h-6'
                    >
                      <path
                        d='M8 12h.01M12 12h.01M16 12h.01M21 12c0 4.418-4.03 8-9 8a9.863 9.863 0 01-4.255-.949L3 20l1.395-3.72C3.512 15.042 3 13.574 3 12c0-4.418 4.03-8 9-8s9 3.582 9 8z'
                      ></path>
                    </svg>
                  </div>
                  <div class='ml-3'>
                    <p class='font-semibold text-gray-900'>Course</p>
                  </div>
                </a>

                <!-- Short Class -->
                <a
                  href='/dashboard/kategori/Short Class'
                  @click="setActive('/dashboard/kategori/Short Class')"
                  class='flex items-start rounded-lg bg-transparent p-2 hover:bg-gray-200 transition-colors'
                >
                  <div class='bg-gray-900 text-white rounded-lg p-3'>
                    <svg
                      fill='none'
                      stroke='currentColor'
                      stroke-width='2'
                      viewBox='0 0 24 24'
                      class='w-6 h-6'
                    >
                      <path
                        d='M11 3.055A9.001 9.001 0 1020.945 13H11V3.055z'
                      ></path>
                      <path
                        d='M20.488 9H15V3.512A9.025 9.025 0 0120.488 9z'
                      ></path>
                    </svg>
                  </div>
                  <div class='ml-3'>
                    <p class='font-semibold text-gray-900'>Short Class</p>
                  </div>
                </a>
              </div>
            </div>
          </div>
        </div>

        <a
          href='/dashboard/portofolio'
          @click="setActive('/portofolio')"
          :class="active === '/portofolio' 
            ? 'bg-white text-gray-900' 
            : 'bg-transparent text-white hover:bg-gray-700 md:hover:bg-gray-200 hover:text-white md:hover:text-gray-900'"
          class='block px-4 py-2.5 text-sm font-semibold rounded-lg transition-colors md:ml-4'
        >Portofolio</a>

        <a
          href='/dashboard/alumni'
          @click="setActive('/alumni')"
          :class="active === '/alumni' 
            ? 'bg-white text-gray-900' 
            : 'bg-transparent text-white hover:bg-gray-700 md:hover:bg-gray-200 hover:text-white md:hover:text-gray-900'"
          class='block px-4 py-2.5 text-sm font-semibold rounded-lg transition-colors md:ml-4'
        >Alumni</a>

        <a
          href='/dashboard/about'
          @click="setActive('/about')"
          :class="active === '/about' 
            ? 'bg-white text-gray-900' 
            : 'bg-transparent text-white hover:bg-gray-700 md:hover:bg-gray-200 hover:text-white md:hover:text-gray-900'"
          class='block px-4 py-2.5 text-sm font-semibold rounded-lg transition-colors md:ml-4'
        >About</a>

        <a
          href='/login'
          @click="setActive('/login')"
          :class="active === '/login' 
            ? 'bg-white text-gray-900 border-2 border-white' 
            : 'bg-transparent text-white border-2 border-white hover:bg-gray-100 hover:text-gray-900'"
          class='block px-4 py-2.5 text-sm font-semibold border-2 border-white hover:text-gray-900 hover:bg-gray-100 rounded-lg transition-colors md:ml-4'
        >Login</a>

      {{/if}}
    </nav>
  </div>
</div>