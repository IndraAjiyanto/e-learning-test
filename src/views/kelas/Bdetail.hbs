<div class="bg-white text-gray-900 px-6 py-10 pt-28">
  <div class="max-w-7xl mx-auto px-6 py-12 grid grid-cols-1 lg:grid-cols-3 gap-10">
    
    <!-- Left Content -->
    <div class="lg:col-span-2 space-y-8">
      <!-- Course Preview -->
      <div class="w-full rounded-xl overflow-hidden shadow">
        <img src="{{kelas.gambar}}" alt="Course Preview" class="w-full object-cover">
      </div>

      <!-- Tabs -->
      <div class="border-b flex gap-6 text-sm font-medium">
        <button class="pb-3 border-b-2 border-gray-900">Course Info</button>
        <button class="pb-3 text-gray-500 hover:text-gray-900">Reviews</button>
      </div>

      <!-- Description -->
      <div>
        <h3 class="text-xl font-semibold mb-3">{{kelas.nama_kelas}}</h3>
        <p class="text-gray-700 mb-6">
          {{kelas.deskripsi}}
        </p>
      </div>

      <!-- Course Content (Accordion) -->
      <div class="space-y-3">
        <details class="collapse collapse-arrow border rounded-lg">
          <summary class="collapse-title font-medium">UX/UI Introduction</summary>
          <div class="collapse-content text-sm space-y-2">
            <p>Introduction – 05:34</p>
            <p>Practice File</p>
          </div>
        </details>
        <details class="collapse collapse-arrow border rounded-lg">
          <summary class="collapse-title font-medium">Section 1</summary>
        </details>
        <details class="collapse collapse-arrow border rounded-lg">
          <summary class="collapse-title font-medium">Section 2</summary>
        </details>
        <details class="collapse collapse-arrow border rounded-lg">
          <summary class="collapse-title font-medium">Section 3</summary>
        </details>
        <details class="collapse collapse-arrow border rounded-lg">
          <summary class="collapse-title font-medium">Section 4</summary>
        </details>
        <details class="collapse collapse-arrow border rounded-lg">
          <summary class="collapse-title font-medium">Section 5</summary>
        </details>
      </div>
    </div>

    <!-- Right Sidebar -->
<aside class="space-y-6" x-data="{ previewUrl: null }">
  <div class="p-6 border rounded-xl shadow space-y-6 bg-white">
    <!-- Harga -->
    <div>
      <p class="text-4xl text-center font-bold text-gray-900">{{formatRupiah kelas.harga}}</p>
    </div>

    <!-- Card No Rekening -->
              {{#if (roles kelas.kategori.nama_kategori "free class")}}
              {{else}}
                          <div class="bank-card p-5 flex flex-col gap-4">
                    <p class="text-xs text-gray-300 mb-1">Account Number</p>
                    <div class="flex items-center justify-between">
                        <p class="account-number text-xl font-bold tracking-wider">2847 9237 4298 1234</p>
                        <button @click="copyToClipboard" 
                                :class="{ 'copied': copied }" 
                                class="copy-btn p-2 rounded-full text-gray-700">
                            <i class="far" :class="copied ? 'fa-check' : 'fa-copy'"></i>
                        </button>
                </div>
                
                <div class="flex justify-between items-center mt-4">
                    <div>
                        <p class="text-xs text-gray-300">Account Holder</p>
                        <p class="text-sm font-medium">KESATRIA ACADEMY</p>
                    </div>
                    <div>
                        <p class="text-xs text-gray-300">Bank Name</p>
                        <p class="text-sm font-medium">BANK CENTRAL</p>
                    </div>
                </div>
            </div>

            <!-- Payment Instructions -->
            <div class="bg-blue-50 border border-blue-200 rounded-lg p-4">
                <h4 class="font-semibold text-blue-800 flex items-center gap-2">
                    <i class="fas fa-info-circle"></i> Payment Instructions
                </h4>
                <ol class="list-decimal pl-5 mt-2 space-y-1 text-sm text-blue-700">
                    <li>Transfer the exact amount of <span class="font-semibold">{{formatRupiah kelas.harga}}</span></li>
                    <li>Use your name as the transfer reference</li>
                    <li>Upload proof of payment below</li>
                    <li>After uploading proof, the payment status will be "Processing"</li>
                    <li>Wait for confirmation from the admin. If the payment is valid, the payment status will be "Accepted"</li>
                    <li>Class access will be granted</li>
                </ol>
            </div>
              {{/if}}

    <!-- Form Upload -->
    {{#if user}}
          {{#if (roles kelas.kategori.nama_kategori "free class")}}
                     <form action="/pembayarans/{{user.id}}/{{kelas.id}}" method="post" class="space-y-3">

      <button type="submit" class="btn w-full bg-gray-900 text-white hover:bg-gray-700">
        Enroll Now
      </button>
    </form>
          {{else if (roles kelas.kategori.nama_kategori "course")}}
           <form action="/pembayarans/{{user.id}}/{{kelas.id}}"  enctype="multipart/form-data" method="post" class="space-y-3">
      <label class="block text-sm font-medium text-gray-700">Upload Bukti Transfer</label>
      <input 
        type="file" name="file"
        class="file-input file-input-bordered w-full border-gray-300 rounded-lg"
        @change="previewUrl = $event.target.files[0] ? URL.createObjectURL($event.target.files[0]) : null"
      />

      <!-- Preview -->
      <template x-if="previewUrl">
        <div class="mt-2">
          <p class="text-xs text-gray-500 mb-1">Preview:</p>
          <img :src="previewUrl" alt="Preview" class="rounded-lg border max-h-48 object-contain" />
        </div>
      </template>

      <button type="submit" class="btn w-full bg-gray-900 text-white hover:bg-gray-700">
        Enroll Now
      </button>
    </form>
          {{else if (roles kelas.kategori.nama_kategori "bootcamp")}}
                     <form action="/pembayarans/{{user.id}}/{{kelas.id}}"  enctype="multipart/form-data" method="post" class="space-y-3">
      <label class="block text-sm font-medium text-gray-700">Upload Bukti Transfer</label>
      <input 
        type="file" name="file"
        class="file-input file-input-bordered w-full border-gray-300 rounded-lg"
        @change="previewUrl = $event.target.files[0] ? URL.createObjectURL($event.target.files[0]) : null"
      />

      <!-- Preview -->
      <template x-if="previewUrl">
        <div class="mt-2">
          <p class="text-xs text-gray-500 mb-1">Preview:</p>
          <img :src="previewUrl" alt="Preview" class="rounded-lg border max-h-48 object-contain" />
        </div>
      </template>

      <button type="submit" class="btn w-full bg-gray-900 text-white hover:bg-gray-700">
        Enroll Now
      </button>
    </form>
          {{/if }}
      {{else}}

      <a href="/login" class="btn w-full bg-gray-900 text-white hover:bg-gray-700">
        Enroll Now
      </a>
          {{/if}}


    <p class="text-xs text-gray-500 mt-2">No any hidden charge</p>

    <!-- What You'll Learn -->
    <div>
      <h4 class="font-semibold mb-2 text-gray-900">What You'll Learn</h4>
      <ul class="list-disc pl-5 space-y-1 text-sm text-gray-700">
        <li>Improve design skill and understanding design theory</li>
        <li>Access real projects & case studies</li>
        <li>Work with modern design tools</li>
      </ul>
    </div>

    <!-- Material Includes -->
    <div>
      <h4 class="font-semibold mb-2 text-gray-900">Material Includes</h4>
      <ul class="list-disc pl-5 space-y-1 text-sm text-gray-700">
        <li>12+ hours on-demand video</li>
        <li>Full lifetime access</li>
        <li>Access on mobile and TV</li>
        <li>1 downloadable resource</li>
      </ul>
    </div>

    <!-- Requirements -->
    <div>
      <h4 class="font-semibold mb-2 text-gray-900">Requirements</h4>
      <p class="text-sm text-gray-700">No prior experience required.</p>
    </div>

    <!-- Tags -->
    <div>
      <h4 class="font-semibold mb-2 text-gray-900">Tags</h4>
      <div class="flex gap-2 flex-wrap">
        <span class="badge badge-outline">UX</span>
        <span class="badge badge-outline">Design</span>
        <span class="badge badge-outline">User Interface</span>
      </div>
    </div>

    <!-- Audience -->
    <div>
      <h4 class="font-semibold mb-2 text-gray-900">Audience</h4>
      <p class="text-sm text-gray-700">You'll also be enrolled in this Specialization.</p>
    </div>
  </div>
</aside>


  </div>

  <!-- Related Courses -->
  <h2 class="text-2xl font-bold mb-5">Other Class</h2>
        <div class="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-6">
            {{#each kelass}}
            <div 
                class="card bg-white shadow-lg border rounded-xl overflow-hidden transition-all duration-300"
                x-show="tab === '{{kategori.nama_kategori}}'"
                x-transition:enter="transition ease-out duration-300"
                x-transition:enter-start="opacity-0 transform scale-95"
                x-transition:enter-end="opacity-100 transform scale-100">
                <figure class="px-6 pt-6">
                    <img src="{{gambar}}" alt="{{nama_kelas}}" class="rounded-xl h-40 w-full object-cover">
                </figure>
                <div class="card-body">
                    <div class="flex gap-2 mb-2">
                        <span class="badge badge-outline px-2 py-1 text-xs">{{kategori.nama_kategori}}</span>
                    </div>
                    <h2 class="card-title text-gray-900 text-lg">{{nama_kelas}}</h2>
                    <p class="text-sm text-gray-600 line-clamp-2">
                        {{deskripsi}}
                    </p>
                    <div class="card-actions justify-end mt-4">
                        <a href="/kelass/{{id}}" class="btn btn-outline w-full hover:bg-gray-900 hover:text-white text-gray-900 transition-colors">View Class</a>
                    </div>
                </div>
            </div>
            {{/each}}
        </div>

    <!-- Navigation -->
    <div class="flex justify-center gap-3 mt-10">
      <button class="btn btn-circle bg-white text-gray-700 border-gray-700">❮</button>
      <button class="btn btn-circle bg-white text-gray-700 border-gray-700">❯</button>
    </div>
  </div>
</div>
